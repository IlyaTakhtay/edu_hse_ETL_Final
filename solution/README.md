# Учебный ETL Проект с Apache Airflow, PostgreSQL и MongoDB

## Описание проекта

Этот проект представляет собой учебный ETL-процесс для репликации данных из MongoDB в PostgreSQL с использованием Apache Airflow. 

### Технологии
- **Apache Airflow** – отвечает выполнения ETL-пайплайнов. Каждый DAG в Airflow реализует процесс извлечения, трансформации и загрузки данных.
- **MongoDB** – источник данных, в котором хранятся сырые пользовательские  данные.
- **PostgreSQL** – хранилище обработанных данных. В него загружаются очищенные, нормализованные и подготовленные для аналитики данные.
- **Генератор данных** – отдельный сервис, который заполняет MongoDB сгенерированными данными, имитируя реальные.
- **Docker** – развертывание всех сервисов.

### Данные, генерируемые скриптом

1. **user_sessions** – информация о сессиях пользователей.
   - `session_id` – уникальный идентификатор сессии.
   - `user_id` – идентификатор пользователя.
   - `start_time` – время начала сессии.
   - `end_time` – время завершения сессии.
   - `pages_visited` – список посещенных страниц.
   - `device` – информация об устройстве пользователя.
   - `actions` – список действий пользователя.

2. **product_price_history** – история изменения цен на товары.
   - `product_id` – идентификатор товара.
   - `price_changes` – список изменений цен (дата и цена).
   - `current_price` – текущая цена товара.
   - `currency` – валюта цены.

3. **event_logs** – логи событий пользователей.
   - `event_id` – уникальный идентификатор события.
   - `timestamp` – временная метка события.
   - `event_type` – тип события (например, вход, выход, ошибка, клик).
   - `details` – дополнительная информация о событии.

4. **support_tickets** – обращения пользователей в поддержку.
   - `ticket_id` – уникальный идентификатор тикета.
   - `user_id` – идентификатор пользователя.
   - `status` – статус тикета (открыт, закрыт, в ожидании).
   - `issue_type` – тип проблемы (ошибка, запрос на новую функцию и т. д.).
   - `messages` – список сообщений в тикете.
   - `created_at` – дата создания тикета.
   - `updated_at` – дата последнего обновления тикета.

5. **user_recommendations** – рекомендации товаров пользователям.
   - `user_id` – идентификатор пользователя.
   - `recommended_products` – список рекомендованных товаров.
   - `last_updated` – время последнего обновления рекомендаций.

6. **moderation_queue** – очередь на модерацию отзывов.
   - `review_id` – идентификатор отзыва.
   - `user_id` – идентификатор пользователя.
   - `product_id` – идентификатор товара.
   - `review_text` – текст отзыва.
   - `rating` – оценка товара.
   - `moderation_status` – статус модерации (на проверке, одобрен, отклонен).
   - `flags` – список флагов (например, жалобы на отзыв).
   - `submitted_at` – дата отправки отзыва.

7. **search_queries** – поисковые запросы пользователей.
   - `query_id` – уникальный идентификатор запроса.
   - `user_id` – идентификатор пользователя.
   - `query_text` – текст запроса.
   - `timestamp` – время выполнения запроса.
   - `filters` – список примененных фильтров.
   - `results_count` – количество результатов запроса.
